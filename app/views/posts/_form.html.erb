<%#= form_for post, data: {push: true, target: '#posts-form'}, html: {id: 'posts-form'} do |f| %>
  <%= form_for post, remote: true, html: {id: (dom_id=generate_dom_unique_id) } do |f| %>
    <%= hidden_field_tag :target, dom_id %>
    <% if post.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(post.errors.count, "error") %> prohibited this post from being saved:</h2>
        <ul>
          <% post.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="field">
      <%= f.label :title %><br>
      <%= f.text_field :title %>
    </div>
    <div class="field">
      <%= f.label :content %><br>
      <%= f.text_area :content %>
    </div>
    <div class="actions">
      <%= f.submit nil, data: {disable_with: 'Loading...'}, class: 'button' %>
    </div>
  <% end %>